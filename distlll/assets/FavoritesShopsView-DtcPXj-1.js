import{u as x}from"./vuex-j54FugZL.js";import{u as b}from"./vue-router-BY3fkmSn.js";import{_ as y,d as w,L as k,T as L,i as d,t as N}from"./index-BCmC1QR8.js";import{f as T,c as B,w as C,o as F,E as c,G as p,I as _,q as i,J as e,F as V,R as S,T as q,Z as I,Q as f,K as P,L as g}from"./@vue-CRjAt1GK.js";import"./vue3-toastify-CEi4-HDi.js";import"./sweetalert2-BCK3Sqif.js";import"./axios-1jJeUhjj.js";import"./vee-validate-BE89hST2.js";import"./@vee-validate-BMb1-Yqj.js";const j={components:{Navbar:w,Loader:k,TopNavbar:L},setup(){b();const r=x(),m=r.getters["getImagePaths/getPath"],n=T([]),o=B(()=>n.value.filter(t=>t.type==="shop"));C(o,(t,s)=>{console.log(s),console.log(t)});const u=async t=>{r.dispatch("loader/setLoading",!0);try{const s=await d.delete("/api/remove-favorite/"+t);if(s&&s.data&&s.data.message){N.success(s.data.message);const l=await d.get("/api/favorites");n.value=l.data}}catch(s){console.log(s)}finally{r.dispatch("loader/setLoading",!1)}};return F(async()=>{r.dispatch("loader/setLoading",!0);try{const t=await d.get("/api/favorites");n.value=t.data}catch(t){console.log(t)}finally{r.dispatch("loader/setLoading",!1)}}),{shops:o,path:m,removeFavorite:u,truncateText:(t,s)=>t.length<=s?t:t.substring(0,s)+"..."}}},z={class:"flex"},D={class:"flex flex-col w-ful lg:px-0 lg:w-[80%]"},E={class:"w-full dash-content"},G={class:"py-5 px-6 lg:px-[25px]"},R=e("div",{class:"flex justify-between items-center"},[e("div",{class:""},[e("h1",{class:"text-[30px] font-bold text-gray-800"},"Deballage Buyer's Profile"),e("span",{class:"text-gray-600 text-base"},"Gérez votre boutique préférée ici")])],-1),J={class:"lg:grid-cols-4 gap-x-5 md:grid grid-cols-3 sm:grid grid-cols-2 w-full"},K={class:"max-w-sm mx-auto bg-white rounded-lg overflow-hidden shadow-lg"},M={class:"border-b px-4 pb-6"},Q={class:"text-left sm:text-left sm:flex mb-4"},Z=["src"],A={class:"py-2 mt-3"},H={class:"font-bold text-2xl"},O={class:"flex"},U={class:"flex-1 rounded-full border-2 border-red bg-red-600 font-semibold text-black px-4 py-2"},W={class:"px-4 py-4"},X={class:"flex items-center justify-between text-grey-darker mb-4"},Y=e("strong",{class:"text-black"},null,-1),$=["onClick"];function ee(r,m,n,o,u,h){const t=c("Navbar"),s=c("TopNavbar"),l=c("Loader"),v=c("router-link");return p(),_("main",z,[i(t),e("section",D,[e("div",E,[i(s),i(l),e("div",G,[R,e("div",J,[o.shops.length>0?(p(!0),_(V,{key:0},S(o.shops,a=>(p(),_("div",{key:a.id,class:"font-sans leading-tight min-h-screen bg-grey-lighter pt-8"},[e("div",K,[e("div",{class:"bg-cover h-40",style:I({backgroundImage:"url("+o.path+a.profile+")"})},null,4),e("div",M,[e("div",Q,[e("img",{class:"h-32 w-32 rounded-full border-4 border-white -mt-16 mr-4",src:o.path+a.cover,alt:""},null,8,Z),e("div",A,[e("h3",H,f(a.name),1)])]),e("div",O,[e("button",U,[i(v,{to:"/vendor-profile/"+a.id},{default:P(()=>[g("Boutique")]),_:2},1032,["to"])])])]),e("div",W,[e("div",X,[e("span",null,[Y,g(" "+f(o.truncateText(a.description,14)),1)]),e("a",{href:"#",onClick:te=>o.removeFavorite(a.id),class:"text-[13px] font-bold uppercase p-1 bg-red-700 text-white"},"supprimer",8,$)])])])]))),128)):q("",!0)])])])])])}const pe=y(j,[["render",ee]]);export{pe as default};
