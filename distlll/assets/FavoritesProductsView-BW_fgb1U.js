import{u as v}from"./vuex-j54FugZL.js";import{u as y}from"./vue-router-BY3fkmSn.js";import{_ as b,d as w,L,T as k,i as p,t as N}from"./index-BCmC1QR8.js";import{f as T,c as F,o as C,E as l,G as _,I as m,q as n,J as t,F as j,R as B,T as P,K as f,Q as i}from"./@vue-CRjAt1GK.js";import"./vue3-toastify-CEi4-HDi.js";import"./sweetalert2-BCK3Sqif.js";import"./axios-1jJeUhjj.js";import"./vee-validate-BE89hST2.js";import"./@vee-validate-BMb1-Yqj.js";const V={components:{Navbar:w,Loader:L,TopNavbar:k},setup(){y();const r=v(),x=r.getters["getImagePaths/getPath"],c=T([]),a=F(()=>c.value.filter(e=>e.type==="product")),g=async e=>{r.dispatch("loader/setLoading",!0);try{const s=await p.delete("/api/remove-favorite/"+e);if(s&&s.data&&s.data.message){N.success(s.data.message);const d=await p.get("/api/favorites");c.value=d.data}}catch(s){console.log(s)}finally{r.dispatch("loader/setLoading",!1)}};return C(async()=>{r.dispatch("loader/setLoading",!0);try{const e=await p.get("/api/favorites");c.value=e.data}catch(e){console.log(e)}finally{r.dispatch("loader/setLoading",!1)}}),{products:a,path:x,removeFavorite:g,truncateText:(e,s)=>e.length<=s?e:e.substring(0,s)+"..."}}},q={class:"flex"},D={class:"flex flex-col w-ful lg:px-0 lg:w-[80%]"},E={class:"w-full dash-content"},I={class:"py-5 px-6 lg:px-[25px]"},M=t("div",{class:"flex justify-between items-center"},[t("div",{class:""},[t("h1",{class:"text-[30px] font-bold text-gray-800"},"Deballage Buyer's Profile"),t("span",{class:"text-gray-600 text-base"},"Manage your favorite products here")])],-1),R={class:"2xl:max-w-[1480px] mx-auto bg-white px-4 rounded-lg"},S=t("h2",{class:"text-[20px] font-bold py-4 px-4 border-b-[1px] uppercase"},"Les produits que j'aime le plus",-1),A={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 grid-flow-row-dense lg:grid-rows-2 py-4 gap-x-5 gap-y-2"},G={class:"p-[11.86px] rounded-md shadow-md bg-white"},J=["src","alt"],K={class:""},Q={class:"text-gray-500"},z={class:"w-full lg:w-[189px] text-sm text-gray-500 truncate"},H={class:"flex justify-between items-center py-1"},O={class:"font-semibold text-[14px] text-gray-600"},U={class:"flex items-center justify-between gap-x-2"},W={class:"block text-[14px] font-bold"},X={class:"flex items-center justify-between"},Y={class:"text-[12px] font-bold text-gray-500"},Z=["onClick"];function $(r,x,c,a,g,h){const e=l("Navbar"),s=l("TopNavbar"),d=l("Loader"),u=l("router-link");return _(),m("main",q,[n(e),t("section",D,[t("div",E,[n(s),n(d),t("div",I,[M,t("div",R,[S,t("div",A,[a.products.length>0?(_(!0),m(j,{key:0},B(a.products,o=>(_(),m("div",G,[n(u,{to:"product-details/"+o.id,class:"block"},{default:f(()=>[t("img",{src:a.path+o.image,alt:o.name,style:{width:"217px",height:"201px"}},null,8,J)]),_:2},1032,["to"]),t("div",K,[n(u,{to:"product-details/"+o.id},{default:f(()=>[t("p",Q,i(o.name),1),t("p",z,i(a.truncateText(o.description,14)),1),t("div",H,[t("small",O,i(o.quantity)+" set",1)]),t("div",U,[t("span",W,i(o.price)+" FCFA",1)])]),_:2},1032,["to"]),t("div",X,[t("span",Y,i(o.category.name),1),t("a",{href:"#",onClick:tt=>a.removeFavorite(o.id),class:"text-[13px] font-bold uppercase p-1 bg-red-700 text-white"},"supprimer",8,Z)])])]))),256)):P("",!0)])])])])])])}const dt=b(V,[["render",$]]);export{dt as default};
