import{b,c as S,w as j,o as P,x as C,y as s,A as l,e as D,B as e,H,F as r,J as d,K as o,C as B,O as A,z as N,I as R,L as f}from"./@vue-CyQZuCNV.js";import{u as V}from"./vue-router-CmdjKzOk.js";import{u as q}from"./vuex-BbWdrUn5.js";import{_ as X,N as T,a as I,b as p}from"./index-CD99ceuA.js";import"./vue3-toastify-BlWhttM-.js";import"./sweetalert2-BCK3Sqif.js";import"./axios-1jJeUhjj.js";const M="/images/svgs/icon-filter.svg",z="/images/svgs/not-found.svg",E={components:{Navbar:T},setup(){const g=V(),i=q(),_=b(g.query.q||""),a=b([]),v=b(!1),x=b(!1),y=i.getters["getImagePaths/getPath"],w=S(()=>i.getters["categories/parentCategories"]),t=S(()=>i.getters["attributes/allAttributes"]),n=b([]),h=async()=>{if(_.value.trim()){x.value=!0;try{const c=await i.dispatch("products/searchProducts",_.value);a.value=c.data.data,console.log(a.value),v.value=c.data.data.length===0}catch(c){console.error(c)}finally{x.value=!1}}},F=(c,m)=>c.length<=m?c:c.substring(0,m)+"...";return j(n,()=>{x.value=!0;try{const c=n.value.map(u=>parseInt(u)),m=i.getters["products/searchResults"];if(!m)throw new Error("No products available for filtering");let k;c.length===0?k=m:k=m.filter(u=>u.attributes?u.attributes.some(L=>c.includes(L.properties.id)):!1),a.value=k}catch(c){console.error("Failed to apply filters:",c)}finally{x.value=!1}}),j(()=>g.query.q,c=>{_.value=c||"",h()}),P(async()=>{await i.dispatch("attributes/fetchAllAttributes"),h()}),{searchTerm:_,searchResults:a,noResultsFound:v,isLoading:x,parentCategories:w,path:y,allAttributes:t,selectedProperties:n,truncateText:F}}},U={class:"px-4 lg:px-6 xl:px-0"},W={class:"2xl:max-w-[1480px] xl:max-w-[1410px] mx-auto lg:px-6 2xl:px-0"},J={class:"badcrub py-[20px] hidden lg:block"},K=e("a",{class:"text-gray-500 text-[13px] font-semibold",href:"/index.html"},"Home",-1),O=e("a",{href:"#",class:"text-red-600 text-[14px] font-semibold"},"All Categories",-1),G={key:0,class:"grid grid-cols-1 lg:grid-cols-4 gap-y-[12px] lg:gap-4 mt-4"},Q={class:"bg-white p-4 flex gap-x-6 rounded-md"},Y=["src","alt"],Z={class:""},$={class:"text-xl font-bold mb-1"},ee={class:"mt-0 text-gray-500 text-sm"},se={key:1,class:"grid grid-cols-1 lg:grid-cols-4 gap-y-[12px] lg:gap-4 mt-4"},te=f('<div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px] w-full" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div><div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px] w-full" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div><div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px] w-full" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div><div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px] w-full" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div><div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px] w-full" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div><div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px] w-full" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div><div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px]" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div><div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px] w-full" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div>',8),le=[te],ae=e("div",{class:"flex justify-between items-center py-3 px-4 bg-white shadow-lg rounded-md mt-4 lg:hidden"},[e("span",{class:"inline-block font-bold"},"All Products"),e("button",{class:"inline-block toggle-button"},[e("img",{width:"30",src:M,alt:"icon of a filter"})])],-1),ce={class:"sidebar-container h-screen w-full"},oe={class:"bg-white lg:hidden px-5 py-7 rounded-[6px] block lg:w-[22%]"},ie={class:"flex flex-col gap-x-2"},ne=e("div",{class:"flex items-center justify-between"},[e("h3",{class:"text-[20px] font-bold"},"Market place categories"),e("img",{class:"icon-close",src:I,alt:""})],-1),re={class:"mt-4"},de=e("h4",{class:"text-[18px] font-bold"},"All categories",-1),pe={key:0,class:"mt-2 space-y-1"},xe={href:"#"},he={key:1,class:"mt-2 space-y-1"},me=e("li",null,[e("a",{href:"#"},"Short Sleeve")],-1),_e=e("li",null,[e("a",{href:"#"},"Short Sleeve")],-1),be=e("li",null,[e("a",{href:"#"},"Long Sleeves")],-1),ue=e("li",null,[e("a",{href:"#"},"Sweaters")],-1),fe=[me,_e,be,ue],ge={key:0},ve={class:"my-4"},ye={class:"text-[16px] font-bold"},we={class:"pl-2 mt-2"},ke={class:"my-1"},Se={class:"inline-flex items-center"},je=["value"],Ce={class:"ml-2"},Be={key:1},Ae=f('<div class="my-4"><h3 class="text-[16px] font-bold">Filter by Color</h3><ul class="pl-2 mt-2"><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Red</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Blue</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Blue</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Blue</span></label></li></ul></div><div class="my-4"><h3 class="text-[16px] font-bold">Filter by Size</h3><ul class="pl-2 mt-2"><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">L</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">XL</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">XXL</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">BBW</span></label></li></ul></div>',2),Fe=[Ae],Le={class:"2xl:max-w-[1480px] xl:max-w-[1410px] mx-auto lg:px-6 2xl:px-0 flex gap-x-5 pt-3 lg:pt-6 pb-10 justify-stretch"},Pe={class:"bg-white px-5 py-7 rounded-[6px] sidebar hidden lg:block lg:w-[22%] self-start"},De={class:"flex flex-col gap-x-2"},He=e("h3",{class:"text-[20px] font-bold"},"Market place categories",-1),Ne={class:"mt-4"},Re=e("h4",{class:"text-[18px] font-bold"},"All categories",-1),Ve={key:0,class:"mt-2 space-y-1"},qe={href:"#"},Xe={key:1,class:"mt-2 space-y-1"},Te=e("li",null,[e("a",{href:"#"},"Short Sleeve")],-1),Ie=e("li",null,[e("a",{href:"#"},"Short Sleeve")],-1),Me=e("li",null,[e("a",{href:"#"},"Long Sleeves")],-1),ze=e("li",null,[e("a",{href:"#"},"Sweaters")],-1),Ee=[Te,Ie,Me,ze],Ue={key:0},We={class:"text-[16px] font-bold"},Je={class:"pl-2 mt-2"},Ke={class:"my-1"},Oe={class:"inline-flex items-center"},Ge=["value"],Qe={class:"ml-2"},Ye={key:1},Ze=f('<div class="my-4"><h3 class="text-[16px] font-bold">Filter by Color</h3><ul class="pl-2 mt-2"><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Red</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Blue</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Blue</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Blue</span></label></li></ul></div><div class="my-4"><h3 class="text-[16px] font-bold">Filter by Size</h3><ul class="pl-2 mt-2"><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">L</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">XL</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">XXL</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">BBW</span></label></li></ul></div>',2),$e=[Ze],es={class:"prduct-list lg:w-[78%] h-[full] px-4 lg:px-0 rounded-md overflow-hidden"},ss={class:"px-0 lg:px-4 2xl:px-4 h-full lg:w-full bg-white rounded overflow-hidden"},ts={class:"2xl:max-w-[1480px] h-full mx-auto lg:w-[initial]"},ls={class:"lg:w-full h-full flex flex-col justify-center"},as={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 grid-flow-row-dense lg:grid-rows-2 gap-x-2 gap-y-2"},cs={class:"block"},os=["src"],is={class:""},ns={class:"text-gray-500"},rs={class:"w-full lg:w-[189px] text-sm text-gray-500"},ds={class:"flex justify-between items-center py-1"},ps={class:"font-semibold text-[14px] text-gray-600"},xs=e("span",{class:"font-bold inline-block text-[14px] text-gray-600"},null,-1),hs={class:"flex items-center justify-between gap-x-2"},ms={class:"block text-[14px] font-bold"},_s=e("span",{class:"text-[12px] font-bold line-through"},null,-1),bs={class:"flex items-center justify-between"},us={class:"text-[12px] font-bold text-gray-500"},fs=e("span",{class:"text-[13px] font-bold uppercase p-1 bg-red-0 text-red-500"},null,-1),gs={key:1},vs=f('<div class="w-full flex justify-center items-center"><img class="w-full lg:max-w-[400px]" src="'+z+'" alt=""></div><div class="w-full px-3 lg:px-0 text-center lg:text-[initial] pb-4 lg:pb-0 flex justify-center flex-col items-center"><span class="text-2xl text-gray-700 mb-2 block font-bold">No items found for this search</span><p class="text-gray-500">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Cumque, consectetur.</p></div>',2),ys=[vs];function ws(g,i,_,a,v,x){const y=C("Navbar"),w=C("router-link");return s(),l(r,null,[D(y),e("section",U,[e("div",W,[e("div",J,[K,H(" > "),O,a.parentCategories.length>0?(s(),l("div",G,[(s(!0),l(r,null,d(a.parentCategories,t=>(s(),l("div",Q,[e("img",{class:"block object-cover w-[70px] h-[70px] w-full",src:a.path+t.image,alt:t.name},null,8,Y),e("div",Z,[e("h2",$,o(t.name),1),e("p",ee,o(a.truncateText(t.description,20)),1)])]))),256))])):(s(),l("div",se,le))]),ae,e("div",ce,[e("div",oe,[e("aside",ie,[ne,e("div",re,[de,a.parentCategories.length>0?(s(),l("ul",pe,[(s(!0),l(r,null,d(a.parentCategories,t=>(s(),l("li",{key:t.id},[e("a",xe,o(t.name),1)]))),128))])):(s(),l("ul",he,fe))]),a.allAttributes.length>0?(s(),l("div",ge,[(s(!0),l(r,null,d(a.allAttributes,t=>(s(),l("div",ve,[e("h3",ye,"Filter by "+o(t.name),1),e("ul",we,[(s(!0),l(r,null,d(t.properties,n=>(s(),l("li",ke,[e("label",Se,[B(e("input",{type:"checkbox","onUpdate:modelValue":i[0]||(i[0]=h=>a.selectedProperties=h),value:n.id,class:"form-checkbox text-red-600"},null,8,je),[[A,a.selectedProperties]]),e("span",Ce,o(n.name),1)])]))),256))])]))),256))])):(s(),l("div",Be,Fe))])])])])]),e("section",null,[e("div",Le,[e("div",Pe,[e("aside",De,[He,e("div",Ne,[Re,a.parentCategories.length>0?(s(),l("ul",Ve,[(s(!0),l(r,null,d(a.parentCategories,t=>(s(),l("li",{key:t.id},[e("a",qe,o(t.name),1)]))),128))])):(s(),l("ul",Xe,Ee))]),a.allAttributes.length>0?(s(),l("div",Ue,[(s(!0),l(r,null,d(a.allAttributes,t=>(s(),l("div",{class:"my-4",key:t.id},[e("h3",We,"Filter by "+o(t.name),1),e("ul",Je,[(s(!0),l(r,null,d(t.properties,n=>(s(),l("li",Ke,[e("label",Oe,[B(e("input",{type:"checkbox","onUpdate:modelValue":i[1]||(i[1]=h=>a.selectedProperties=h),value:n.id,class:"form-checkbox text-red-600"},null,8,Ge),[[A,a.selectedProperties]]),e("span",Qe,o(n.name),1)])]))),256))])]))),128))])):(s(),l("div",Ye,$e))])]),e("div",es,[e("div",ss,[e("div",ts,[e("div",ls,[a.searchResults.length>0?(s(),l("div",as,[(s(!0),l(r,null,d(a.searchResults,t=>(s(),N(w,{to:"product-details/"+t.id,key:"search_"+t.id,class:"p-[11.86px] rounded-md shadow-md bg-white"},{default:R(()=>[e("span",cs,[e("img",{src:a.path+t.image,alt:"",width:"201",height:"201"},null,8,os)]),e("div",is,[e("p",ns,o(t.name),1),e("p",rs,o(a.truncateText(t.description,16)),1),e("div",ds,[e("small",ps,o(t.quantity)+" set",1),xs]),e("div",hs,[e("span",ms,o(t.price),1),_s]),e("div",bs,[e("span",us,o(t.category.name),1),fs])])]),_:2},1032,["to"]))),128))])):(s(),l("div",gs,ys))])])])])])])],64)}const Ps=X(E,[["render",ws]]);export{Ps as default};
