import{f as u,c as F,w as N,o as R,E as L,G as t,I as l,q as b,J as e,L as f,K as v,F as n,R as d,Q as i,M as P,Y as A,T as D,H as T,S as y}from"./@vue-CRjAt1GK.js";import{u as V}from"./vue-router-BY3fkmSn.js";import{u as q}from"./vuex-j54FugZL.js";import{_ as X,N as I,L as z,a as E,b as p}from"./index-BCmC1QR8.js";import{_ as M}from"./icon-filter-UYkcP1Gu.js";import"./vue3-toastify-CEi4-HDi.js";import"./sweetalert2-BCK3Sqif.js";import"./axios-1jJeUhjj.js";import"./vee-validate-BE89hST2.js";import"./@vee-validate-BMb1-Yqj.js";const U="/images/svgs/not-found.svg",W={components:{Navbar:I,Loader:z},setup(){const w=V(),c=q(),m=u(w.query.q||""),a=u([]),k=u(!1),B=u(!1),S=c.getters["getImagePaths/getPath"],j=F(()=>c.getters["categories/parentCategories"]),x=F(()=>c.getters["attributes/allAttributes"]),s=u([]),r=async()=>{if(m.value.trim()){c.dispatch("loader/setLoading",!0);try{const o=await c.dispatch("products/searchProducts",m.value);a.value=o.data.data,console.log(a.value),k.value=o.data.data.length===0}catch(o){console.error(o)}finally{c.dispatch("loader/setLoading",!1)}}},_=(o,h)=>o.length<=h?o:o.substring(0,h)+"...";return N(s,()=>{try{const o=s.value.map(g=>parseInt(g)),h=c.getters["products/searchResults"];if(!h)throw new Error("No products available for filtering");let C;o.length===0?C=h:C=h.filter(g=>g.attributes?g.attributes.some(H=>o.includes(H.properties.id)):!1),a.value=C}catch(o){console.error("Failed to apply filters:",o)}}),N(()=>w.query.q,o=>{m.value=o||"",r()}),R(async()=>{await c.dispatch("attributes/fetchAllAttributes"),r()}),{searchTerm:m,searchResults:a,noResultsFound:k,isLoading:B,parentCategories:j,path:S,allAttributes:x,selectedProperties:s,truncateText:_}}},G={class:"px-4 lg:px-6 xl:px-0"},J={class:"2xl:max-w-[1480px] xl:max-w-[1410px] mx-auto lg:px-6 2xl:px-0"},K={class:"badcrub py-[20px] hidden lg:block"},Q=e("a",{class:"text-gray-500 text-[13px] font-semibold",href:"https://deballage.cm"},"Home",-1),Y={key:0,class:"grid grid-cols-1 lg:grid-cols-4 gap-y-[12px] lg:gap-4 mt-4"},O=["src","alt"],Z={class:""},$={class:"text-xl font-bold mb-1"},ee={class:"mt-0 text-gray-500 text-sm"},se={key:1,class:"grid grid-cols-1 lg:grid-cols-4 gap-y-[12px] lg:gap-4 mt-4"},te=y('<div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px] w-full" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div><div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px] w-full" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div><div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px] w-full" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div><div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px] w-full" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div><div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px] w-full" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div><div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px] w-full" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div><div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px]" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div><div class="bg-white p-4 flex gap-x-6 rounded-md"><img class="block object-cover w-[70px] h-[70px] w-full" src="'+p+'" alt="image of a woman standing"><div class=""><h2 class="text-xl font-bold mb-1">Heading 1</h2><p class="mt-0 text-gray-500">Description 1</p></div></div>',8),le=[te],ae=e("div",{class:"flex justify-between items-center py-3 px-4 bg-white shadow-lg rounded-md mt-4 lg:hidden"},[e("span",{class:"inline-block font-bold"},"Tous les produits"),e("button",{class:"inline-block toggle-button"},[e("img",{width:"30",src:M,alt:"icon of a filter"})])],-1),oe={class:"sidebar-container h-screen w-full"},ce={class:"bg-white lg:hidden px-5 py-7 rounded-[6px] block lg:w-[22%]"},ie={class:"flex flex-col gap-x-2"},ne=e("div",{class:"flex items-center justify-between"},[e("h3",{class:"text-[20px] font-bold"},"Catégories de marché"),e("img",{class:"icon-close",src:E,alt:""})],-1),re={class:"mt-4"},de={class:"text-[18px] font-bold"},pe={key:0,class:"mt-2 space-y-1"},xe={href:"#"},he={key:1,class:"mt-2 space-y-1"},me=e("li",null,[e("a",{href:"#"},"Short Sleeve")],-1),_e=e("li",null,[e("a",{href:"#"},"Short Sleeve")],-1),ue=e("li",null,[e("a",{href:"#"},"Long Sleeves")],-1),be=e("li",null,[e("a",{href:"#"},"Sweaters")],-1),ge=[me,_e,ue,be],fe={key:0},ve={class:"my-4"},ye={class:"text-[16px] font-bold"},we={class:"pl-2 mt-2"},ke={class:"my-1"},Se={class:"inline-flex items-center"},je=["value"],Ce={class:"ml-2"},Le={key:1},Be=y('<div class="my-4"><h3 class="text-[16px] font-bold">Filter by Color</h3><ul class="pl-2 mt-2"><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Red</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Blue</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Blue</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Blue</span></label></li></ul></div><div class="my-4"><h3 class="text-[16px] font-bold">Filter by Size</h3><ul class="pl-2 mt-2"><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">L</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">XL</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">XXL</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">BBW</span></label></li></ul></div>',2),Fe=[Be],Ne={class:"2xl:max-w-[1480px] xl:max-w-[1410px] mx-auto lg:px-6 2xl:px-0 flex gap-x-5 pt-3 lg:pt-6 pb-10 justify-stretch"},Pe={class:"bg-white px-5 py-7 rounded-[6px] sidebar hidden lg:block lg:w-[22%] self-start"},Ae={class:"flex flex-col gap-x-2"},De=e("h3",{class:"text-[20px] font-bold"},"Catégories de marché",-1),He={class:"mt-4"},Re={class:"text-[18px] font-bold"},Te={key:0,class:"mt-2 space-y-1"},Ve={href:"#"},qe={key:1,class:"mt-2 space-y-1"},Xe=e("li",null,[e("a",{href:"#"},"Short Sleeve")],-1),Ie=e("li",null,[e("a",{href:"#"},"Short Sleeve")],-1),ze=e("li",null,[e("a",{href:"#"},"Long Sleeves")],-1),Ee=e("li",null,[e("a",{href:"#"},"Sweaters")],-1),Me=[Xe,Ie,ze,Ee],Ue={key:0},We={class:"text-[16px] font-bold"},Ge={class:"pl-2 mt-2"},Je={class:"my-1"},Ke={class:"inline-flex items-center"},Qe=["value"],Ye={class:"ml-2"},Oe={key:1},Ze=y('<div class="my-4"><h3 class="text-[16px] font-bold">Filter by Color</h3><ul class="pl-2 mt-2"><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Red</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Blue</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Blue</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">Blue</span></label></li></ul></div><div class="my-4"><h3 class="text-[16px] font-bold">Filter by Size</h3><ul class="pl-2 mt-2"><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">L</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">XL</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">XXL</span></label></li><li class="my-1"><label class="inline-flex items-center"><input type="checkbox" class="form-checkbox text-red-600"><span class="ml-2">BBW</span></label></li></ul></div>',2),$e=[Ze],es={class:"prduct-list lg:w-[78%] h-[full] px-4 lg:px-0 rounded-md overflow-hidden"},ss={class:"px-0 lg:px-4 2xl:px-4 h-full lg:w-full bg-white rounded overflow-hidden"},ts={class:"2xl:max-w-[1480px] h-full mx-auto lg:w-[initial]"},ls={class:"lg:w-full h-full flex flex-col justify-center"},as={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 grid-flow-row-dense lg:grid-rows-2 gap-x-2 gap-y-2"},os={class:"block"},cs=["src"],is={class:""},ns={class:"text-gray-500"},rs={class:"w-full lg:w-[189px] text-sm text-gray-500"},ds={class:"flex justify-between items-center py-1"},ps={class:"font-semibold text-[14px] text-gray-600"},xs=e("span",{class:"font-bold inline-block text-[14px] text-gray-600"},null,-1),hs={class:"flex items-center justify-between gap-x-2"},ms={class:"block text-[14px] font-bold"},_s=e("span",{class:"text-[12px] font-bold line-through"},null,-1),us={class:"flex items-center justify-between"},bs={class:"text-[12px] font-bold text-gray-500"},gs=e("span",{class:"text-[13px] font-bold uppercase p-1 bg-red-0 text-red-500"},null,-1),fs={key:1},vs=y('<div class="w-full flex justify-center items-center"><img class="w-full lg:max-w-[400px]" src="'+U+'" alt=""></div><div class="w-full px-3 lg:px-0 text-center lg:text-[initial] pb-4 lg:pb-0 flex justify-center flex-col items-center"><span class="text-2xl text-gray-700 mb-2 block font-bold">Aucun élément trouvé pour cette recherche</span><p class="text-gray-500">Nous n&#39;avons trouvé aucun résultat correspondant à votre recherche. Veuillez essayer un autre terme de recherche.</p></div>',2),ys=[vs];function ws(w,c,m,a,k,B){const S=L("Navbar"),j=L("Loader"),x=L("router-link");return t(),l(n,null,[b(S),e("section",G,[e("div",J,[b(j),e("div",K,[Q,f(" > "),b(x,{to:"/categories",class:"text-red-600 text-[14px] font-semibold"},{default:v(()=>[f("All Categories")]),_:1}),a.parentCategories.length>0?(t(),l("div",Y,[(t(!0),l(n,null,d(a.parentCategories.slice(0,8),s=>(t(),l("div",{key:s.id,class:"bg-white p-4 flex gap-x-6 rounded-md"},[e("img",{class:"block object-cover w-[70px] h-[70px] w-full",src:a.path+s.image,alt:s.name},null,8,O),e("div",Z,[e("h2",$,i(s.name),1),e("p",ee,i(a.truncateText(s.description,20)),1)])]))),128))])):(t(),l("div",se,le))]),ae,e("div",oe,[e("div",ce,[e("aside",ie,[ne,e("div",re,[e("h4",de,[b(x,{to:"/categories"},{default:v(()=>[f("Toutes catégories")]),_:1})]),a.parentCategories.length>0?(t(),l("ul",pe,[(t(!0),l(n,null,d(a.parentCategories,s=>(t(),l("li",{key:s.id},[e("a",xe,i(s.name),1)]))),128))])):(t(),l("ul",he,ge))]),a.allAttributes.length>0?(t(),l("div",fe,[(t(!0),l(n,null,d(a.allAttributes,s=>(t(),l("div",ve,[s.properties.length>0?(t(),l(n,{key:0},[e("h3",ye,"Filtrer par "+i(s.name),1),e("ul",we,[(t(!0),l(n,null,d(s.properties,r=>(t(),l("li",ke,[e("label",Se,[P(e("input",{type:"checkbox","onUpdate:modelValue":c[0]||(c[0]=_=>a.selectedProperties=_),value:r.id,class:"form-checkbox text-red-600"},null,8,je),[[A,a.selectedProperties]]),e("span",Ce,i(r.name),1)])]))),256))])],64)):D("",!0)]))),256))])):(t(),l("div",Le,Fe))])])])])]),e("section",null,[e("div",Ne,[e("div",Pe,[e("aside",Ae,[De,e("div",He,[e("h4",Re,[b(x,{to:"/categories"},{default:v(()=>[f("Toutes catégories")]),_:1})]),a.parentCategories.length>0?(t(),l("ul",Te,[(t(!0),l(n,null,d(a.parentCategories,s=>(t(),l("li",{key:s.id},[e("a",Ve,i(s.name),1)]))),128))])):(t(),l("ul",qe,Me))]),a.allAttributes.length>0?(t(),l("div",Ue,[(t(!0),l(n,null,d(a.allAttributes,s=>(t(),l("div",{class:"my-4",key:s.id},[s.properties.length>0?(t(),l(n,{key:0},[e("h3",We,"Filter by "+i(s.name),1),e("ul",Ge,[(t(!0),l(n,null,d(s.properties,r=>(t(),l("li",Je,[e("label",Ke,[P(e("input",{type:"checkbox","onUpdate:modelValue":c[1]||(c[1]=_=>a.selectedProperties=_),value:r.id,class:"form-checkbox text-red-600"},null,8,Qe),[[A,a.selectedProperties]]),e("span",Ye,i(r.name),1)])]))),256))])],64)):D("",!0)]))),128))])):(t(),l("div",Oe,$e))])]),e("div",es,[e("div",ss,[e("div",ts,[e("div",ls,[a.searchResults.length>0?(t(),l("div",as,[(t(!0),l(n,null,d(a.searchResults,s=>(t(),T(x,{to:"product-details/"+s.id,key:"search_"+s.id,class:"p-[11.86px] rounded-md shadow-md bg-white"},{default:v(()=>[e("span",os,[e("img",{src:a.path+s.image,alt:"",style:{width:"217px",height:"201px"}},null,8,cs)]),e("div",is,[e("p",ns,i(s.name),1),e("p",rs,i(a.truncateText(s.description,16)),1),e("div",ds,[e("small",ps,i(s.quantity)+" set",1),xs]),e("div",hs,[e("span",ms,i(s.price),1),_s]),e("div",us,[e("span",bs,i(s.category.name),1),gs])])]),_:2},1032,["to"]))),128))])):(t(),l("div",fs,ys))])])])])])])],64)}const Hs=X(W,[["render",ws]]);export{Hs as default};
