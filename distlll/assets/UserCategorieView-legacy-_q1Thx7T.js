!function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function t(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e,t,r,a,o,l,n){try{var i=e[l](n),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(a,o)}function a(e){return function(){var t=this,a=arguments;return new Promise((function(o,l){var n=e.apply(t,a);function i(e){r(n,o,l,i,s,"next",e)}function s(e){r(n,o,l,i,s,"throw",e)}i(void 0)}))}}System.register(["./@vue-legacy-D-aloMXM.js","./vuex-legacy-DSIE0isM.js","./vue-router-legacy-W-7WOOXA.js","./index-legacy-BotjqDLp.js","./sweetalert2-legacy-Dmjdgd9K.js","./GreetingUser-legacy-Bjan3sdG.js","./vue3-toastify-legacy-CkTXNXHT.js","./axios-legacy-aKSqV1Sc.js","./vee-validate-legacy-DreMxtEy.js","./@vee-validate-legacy-BuGAX7n2.js"],(function(r,o){"use strict";var l,n,i,s,d,c,u,p,g,b,y,m,x,f,v,h,w,k,C,j,P,N,_,O,U,D,S,E,L,I;return{setters:[e=>{l=e.c,n=e.f,i=e.w,s=e.o,d=e.E,c=e.G,u=e.I,p=e.q,g=e.J,b=e.K,y=e.F,m=e.R,x=e.P,f=e.M,v=e.N,h=e.Q,w=e.T,k=e.X,C=e.S,j=e.L},e=>{P=e.u},e=>{N=e.u},e=>{_=e._,O=e.d,U=e.L,D=e.T,S=e.i,E=e.t},e=>{L=e.S},e=>{I=e.G},null,null,null,null],execute:function(){var o=document.createElement("style");o.textContent=".table-container{width:100%;max-height:400px;overflow-x:auto}.table-fixed{table-layout:fixed}\n",document.head.appendChild(o);const F={components:{Navbar:O,Loader:U,TopNavbar:D,GreetingUser:I},setup(){N();const r=P(),o=r.getters["getImagePaths/getPath"],d=l((()=>r.getters["auth/user"])),c=n(""),u=n([]),p=n({}),g=n(null),b=n(""),y=n(""),m=n(null),x=n("");i(d,((e,t)=>{console.log(e),console.log(t)}));const f=function(){var e=a((function*(){p.value={},r.dispatch("loader/setLoading",!0);try{console.log(d.value.id);const e=new FormData;e.append("name",c.value),e.append("description",b.value),e.append("image",y.value),e.append("parent_id",x.value),e.append("user_id",d.value.id),yield r.dispatch("categories/createCategory",e),c.value="",b.value="",y.value=null,m.value="",x.value="";const t=yield S.get("/api/user-categories");u.value=t.data.categories}catch(e){p.value=e,console.log(e)}finally{r.dispatch("loader/setLoading",!1),console.log("Setting loader to false")}}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=a((function*(){p.value={},r.dispatch("loader/setLoading",!0);try{console.log(g.value);const e=new FormData;e.append("id",g.value.id),e.append("name",g.value.name),e.append("description",g.value.description),y.value&&e.append("image",y.value),g.value.parent_id&&e.append("parent_id",g.value.parent_id),yield r.dispatch("categories/updateCategory",e);const t=yield S.get("/api/user-categories");u.value=t.data.categories,g.value=null,E.success()}catch(e){p.value=e}finally{r.dispatch("loader/setLoading",!1)}}));return function(){return e.apply(this,arguments)}}();return s(a((function*(){r.dispatch("loader/setLoading",!0);try{yield r.dispatch("auth/fetchUser");const e=yield S.get("/api/user-categories");u.value=e.data.categories,console.log(u.value)}catch(e){console.log(e)}finally{r.dispatch("loader/setLoading",!1)}}))),{truncateText:(e,t)=>e.length<=t?e:e.substring(0,t)+"...",authUser:d,createNewCategory:f,name:c,imageUrl:m,errors:p,categories:u,editCategory:r=>{console.log(r),g.value=function(r){for(var a=1;a<arguments.length;a++){var o=null!=arguments[a]?arguments[a]:{};a%2?e(Object(o),!0).forEach((function(e){t(r,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}({},r),m.value=o+g.value.image},updateCategory:v,editingCategory:g,onFileChange:e=>{const t=e.target.files;if(t.length>0){y.value=t[0];const e=new FileReader;e.onload=e=>{m.value=e.target.result},e.readAsDataURL(y.value)}},parent_id:x,description:b,path:o,confirmDelete:e=>{L.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then(function(){var t=a((function*(t){if(t.isConfirmed){r.dispatch("categories/deleteCategory",e);const t=yield S.get("/api/user-categories");u.value=t.data.categories}}));return function(e){return t.apply(this,arguments)}}())}}}},T={class:"flex relative"},A={class:"lg:flex-row w-full lg:w-[80%]"},V={class:"w-full dash-content"},B={class:"py-5 lg:px-[25px] px-4"},G={class:"flex flex-col lg:flex-row justify-between lg:items-center"},M={class:""},Q=g("span",{class:"text-gray-600 text-base"},"Liste des catégories de déballage ",-1),q=C('<div id="modal" class="absolute invisible w-full h-full top-0 left-0 bg-black bg-opacity-40 flex justify-center items-center"><div class="mb-4 flex gap-x-4 mt-7"></div><div class="bg-white rounded-lg shadow-sm w-[90%] lg:w-[40%] h-fit lg:h-[40%] px-4 py-4 lg:py-6 lg:px-6"><button id="cancelButtons" class="text-black font-bold font-bold" type="button">X</button><div class="flex justify-between"><h1 class="w-full h-full text-[24px] font-medium text-center">Do you really want to cancel this order?</h1></div><div class="mb-4 flex gap-x-4 mt-7"><button id="cancelButton" class="w-full rounded-md py-3 bg-red-600 text-black font-medium" type="button">NO</button><input class="w-full rounded-md py-3 bg-black text-white" type="submit" value="YES"></div></div></div>',1),z={class:"container mx-auto p-6 font-mono"},R={class:"w-full"},Y={class:"bg-white p-4 rounded shadow"},X={class:"table-container"},J={class:"w-full"},K=g("thead",null,[g("tr",{class:"text-md font-semibold tracking-wide text-left text-white bg-red-600 uppercase border-b border-gray-600"},[g("th",{class:"px-4 py-3 text-center"},"Nom "),g("th",{class:"px-4 py-3 text-center"},"Image"),g("th",{class:"px-4 py-3 text-center"},"Description"),g("th",{class:"px-4 py-3 text-center"},"Action")])],-1),H={class:"py-3 border"},W={class:"px-3 py-4font-semibold text-black text-center"},Z={class:"px-4 py-3 border"},$={class:"w-12 h-12 mr-3 md:block"},ee=["src"],te={class:"px-4 py-3 text-ms font-semibold border text-center"},re={class:"px-4 py-3 text-ms font-semibold border text-center"},ae=["onClick"],oe=["onClick"],le={key:1,class:"py-3 border"},ne=[g("td",{class:"px-3 py-4font-semibold text-black text-center"},"Iphone",-1),g("td",{class:"px-4 py-3 border"},[g("div",{class:"w-12 h-12 mr-3 md:block"},[g("img",{class:"object-cover w-full h-full",src:"https://images.pexels.com/photos/5212324/pexels-photo-5212324.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260",alt:"",loading:"lazy"})])],-1),g("td",{class:"px-4 py-3 text-ms font-semibold border text-center"},"22",-1),g("td",{class:"px-4 py-3 text-ms font-semibold border text-center"},[g("a",{href:"#",class:"inline-block mr-1 px-1 border-2 rounded-lg font-bold text-white",style:{"background-color":"green","border-color":"green"}},"Modifier "),g("a",{href:"#",class:"inline-block mr-1 px-1 border-2 rounded-lg font-bold border-red-600 bg-red-600 text-white"},"delete ")],-1)],ie=g("div",{class:"flex justify-end gap-x-3 mt-7 p-fixed mb-6 z-10"},[g("button",{class:"bg-black hover:bg-red-600 text-white font-bold py-2 px-4 rounded",onclick:"previousPage()"},"Previous"),g("button",{class:"bg-black hover:bg-red-600 text-white font-bold py-2 px-4 rounded",onclick:"nextPage()"},"Next")],-1),se={class:"max-w-screen-lg mx-auto"},de={class:"bg-white p-4 rounded shadow"},ce={key:0,class:"text-lg font-semibold mb-4"},ue={key:1,class:"text-lg font-semibold mb-4"},pe={class:"mb-4"},ge=g("label",{class:"block text-gray-600 text-[16px] font-medium mb-2",for:"productName"},"Quel est le nom de la catégorie ?",-1),be={key:0,class:"text-red-500 m-1"},ye={class:"mb-4"},me=g("label",{class:"block text-gray-600 text-[16px] font-medium mb-2",for:"productImage"},"Télécharger l'image de la nouvelle catégorie",-1),xe=["src"],fe={key:1,class:"text-red-500 m-1"},ve={class:"mb-4"},he=g("label",{class:"block text-gray-600 text-[16px] font-medium mb-2",for:"AttributeDescribtion"},"Quels sont les attributs de la catégorie ?",-1),we={key:0,class:"text-red-500 m-1"},ke={class:"mb-3"},Ce=g("label",{class:"small mb-1",for:"parent_id"},[g("b",null,"Parent de la categorie")],-1),je=g("option",{value:""},"None",-1),Pe=["value"],Ne={key:0,class:"text-red-500 m-1"},_e=g("div",null,[g("button",{type:"submit",class:"bg-black hover:bg-red-600 text-white font-bold py-2 px-4 rounded"},"Soumettre")],-1),Oe={class:"mb-4"},Ue=g("label",{class:"block text-gray-600 text-[16px] font-medium mb-2",for:"productName"},"Quel est le nom de la catégorie ?",-1),De={key:0,class:"text-red-500 m-1"},Se={class:"mb-4"},Ee=g("label",{class:"block text-gray-600 text-[16px] font-medium mb-2",for:"productImage"},"Télécharger l'image de la catégorie",-1),Le=["src"],Ie={key:1,class:"text-red-500 m-1"},Fe={class:"mb-4"},Te=g("label",{class:"block text-gray-600 text-[16px] font-medium mb-2",for:"AttributeDescribtion"},"Quels sont les attributs de la catégorie ?",-1),Ae={key:0,class:"text-red-500 m-1"},Ve={class:"mb-3"},Be=g("label",{class:"small mb-1",for:"parent_id"},[g("b",null,"Parent de la categorie")],-1),Ge=g("option",{value:""},"None",-1),Me=["value"],Qe={key:0,class:"text-red-500 m-1"},qe=g("div",null,[g("button",{type:"submit",class:"bg-black hover:bg-red-600 text-white font-bold py-2 px-4 rounded"},"Modifier")],-1);r("default",_(F,[["render",function(e,t,r,a,o,l){const n=d("Navbar"),i=d("TopNavbar"),s=d("Loader"),C=d("GreetingUser");return c(),u("main",T,[p(n),g("section",A,[g("div",V,[p(i),p(s),g("div",B,[g("div",G,[g("div",M,[p(C,null,{greeting:b((()=>[j("Bonne journée, "+h(a.authUser.firstName)+" "+h(a.authUser.lastName),1)])),_:1}),Q])])])]),q,g("section",z,[g("div",R,[g("div",Y,[g("div",X,[g("table",J,[K,g("tbody",null,[a.categories.length>0?(c(!0),u(y,{key:0},m(a.categories,(e=>(c(),u("tr",H,[g("td",W,h(e.name),1),g("td",Z,[g("div",$,[g("img",{class:"object-cover w-full h-full",src:a.path+e.image,alt:"",loading:"lazy"},null,8,ee)])]),g("td",te,h(e.description),1),g("td",re,[g("a",{href:"#",onClick:t=>a.editCategory(e),class:"inline-block mr-1 px-1 border-2 rounded-lg font-bold text-white",style:{"background-color":"green","border-color":"green"}},"Modifier ",8,ae),g("a",{href:"#",onClick:t=>a.confirmDelete(e.id),class:"inline-block mr-1 px-1 border-2 rounded-lg font-bold border-red-600 bg-red-600 text-white"},"Supprimer ",8,oe)])])))),256)):(c(),u("tr",le,ne))])]),ie])])])]),g("div",se,[g("div",de,[a.editingCategory?(c(),u("h2",ue,"Mettre à jour la categorie")):(c(),u("h2",ce,"Créer une nouvelle Categorie")),a.editingCategory?(c(),u("form",{key:3,onSubmit:t[9]||(t[9]=x(((...e)=>a.updateCategory&&a.updateCategory(...e)),["prevent"]))},[g("div",Oe,[Ue,f(g("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>a.editingCategory.name=e),class:"border-[1px] border-gray-600 appearance-none rounded-[8px] w-full py-3 px-3 text-gray-500 leading-tight focus:outline-none focus:border-[1px] border-gray-600-outline",id:"productName",type:"text",placeholder:"Enter your product name"},null,512),[[v,a.editingCategory.name]]),a.errors.name?(c(),u("span",De,h(a.errors.name[0]),1)):w("",!0)]),g("div",Se,[Ee,g("input",{class:"border-[1px] border-gray-600 appearance-none rounded-[8px] w-full py-3 px-3 text-gray-500 leading-tight focus:outline-none focus:border-[1px] border-gray-600-outline",id:"productImage",type:"file",placeholder:"Enter your product quantity",onChange:t[6]||(t[6]=(...e)=>a.onFileChange&&a.onFileChange(...e))},null,32),a.imageUrl?(c(),u("img",{key:0,src:a.imageUrl,alt:"Selected Image",class:"mt-2",width:"50",height:"50"},null,8,Le)):w("",!0),a.errors.image?(c(),u("span",Ie,h(a.errors.image[0]),1)):w("",!0)]),g("div",Fe,[Te,f(g("textarea",{"onUpdate:modelValue":t[7]||(t[7]=e=>a.editingCategory.description=e),class:"border-[1px] border-gray-600 appearance-none rounded-[8px] w-full py-3 px-3 text-gray-500 leading-tight focus:outline-none focus:border-[1px] border-gray-600-outline",id:"AttributeDescribtion",type:"text",placeholder:"Enter a description"},null,512),[[v,a.editingCategory.description]]),a.errors.description?(c(),u("span",Ae,h(a.errors.description[0]),1)):w("",!0)]),g("div",Ve,[Be,f(g("select",{class:"border-[1px] border-gray-600 appearance-none rounded-[8px] w-full py-3 px-3 text-gray-500 leading-tight focus:outline-none focus:border-[1px] border-gray-600-outline","onUpdate:modelValue":t[8]||(t[8]=e=>a.editingCategory.parent_id=e),id:"parent_id"},[Ge,(c(!0),u(y,null,m(a.categories,(e=>(c(),u("option",{key:e.id,value:e.id},h(e.name),9,Me)))),128))],512),[[k,a.editingCategory.parent_id]]),a.errors.parent_id?(c(),u("span",Qe,h(a.errors.parent_id[0]),1)):w("",!0)]),qe],32)):(c(),u("form",{key:2,onSubmit:t[4]||(t[4]=x(((...e)=>a.createNewCategory&&a.createNewCategory(...e)),["prevent"]))},[g("div",pe,[ge,f(g("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.name=e),class:"border-[1px] border-gray-600 appearance-none rounded-[8px] w-full py-3 px-3 text-gray-500 leading-tight focus:outline-none focus:border-[1px] border-gray-600-outline",id:"productName",type:"text",placeholder:"Enter your product name"},null,512),[[v,a.name]]),a.errors.name?(c(),u("span",be,h(a.errors.name[0]),1)):w("",!0)]),g("div",ye,[me,g("input",{class:"border-[1px] border-gray-600 appearance-none rounded-[8px] w-full py-3 px-3 text-gray-500 leading-tight focus:outline-none focus:border-[1px] border-gray-600-outline",id:"productImage",type:"file",placeholder:"Enter your product quantity",onChange:t[1]||(t[1]=(...e)=>a.onFileChange&&a.onFileChange(...e))},null,32),a.imageUrl?(c(),u("img",{key:0,src:a.imageUrl,alt:"Selected Image",class:"mt-2",width:"50",height:"50"},null,8,xe)):w("",!0),a.errors.image?(c(),u("span",fe,h(a.errors.image[0]),1)):w("",!0)]),g("div",ve,[he,f(g("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>a.description=e),class:"border-[1px] border-gray-600 appearance-none rounded-[8px] w-full py-3 px-3 text-gray-500 leading-tight focus:outline-none focus:border-[1px] border-gray-600-outline",id:"AttributeDescribtion",type:"text",placeholder:"Enter a description"},null,512),[[v,a.description]]),a.errors.description?(c(),u("span",we,h(a.errors.description[0]),1)):w("",!0)]),g("div",ke,[Ce,f(g("select",{class:"border-[1px] border-gray-600 appearance-none rounded-[8px] w-full py-3 px-3 text-gray-500 leading-tight focus:outline-none focus:border-[1px] border-gray-600-outline","onUpdate:modelValue":t[3]||(t[3]=e=>a.parent_id=e),id:"parent_id"},[je,(c(!0),u(y,null,m(a.categories,(e=>(c(),u("option",{key:e.id,value:e.id},h(e.name),9,Pe)))),128))],512),[[k,a.parent_id]]),a.errors.parent_id?(c(),u("span",Ne,h(a.errors.parent_id[0]),1)):w("",!0)]),_e],32))])])])])}]]))}}}))}();
