!function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function t(t){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?e(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t,r,o,a,l,n){try{var i=e[l](n),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(o,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,l){var n=e.apply(t,r);function i(e){o(n,a,l,i,s,"next",e)}function s(e){o(n,a,l,i,s,"throw",e)}i(void 0)}))}}System.register(["./@vue-legacy-D-aloMXM.js","./vuex-legacy-DSIE0isM.js","./vue-router-legacy-W-7WOOXA.js","./index-legacy-BotjqDLp.js","./sweetalert2-legacy-Dmjdgd9K.js","./GreetingUser-legacy-Bjan3sdG.js","./vue3-toastify-legacy-CkTXNXHT.js","./axios-legacy-aKSqV1Sc.js","./vee-validate-legacy-DreMxtEy.js","./@vee-validate-legacy-BuGAX7n2.js"],(function(e,r){"use strict";var o,l,n,i,s,d,u,c,p,b,y,f,g,m,x,v,h,w,k,P,j,N,O,_,S,L,U,C,E,D;return{setters:[e=>{o=e.c,l=e.f,n=e.w,i=e.o,s=e.E,d=e.G,u=e.I,c=e.q,p=e.J,b=e.K,y=e.F,f=e.R,g=e.P,m=e.M,x=e.N,v=e.Q,h=e.T,w=e.X,k=e.S,P=e.L},e=>{j=e.u},e=>{N=e.u},e=>{O=e._,_=e.d,S=e.L,L=e.T,U=e.i,C=e.t},e=>{E=e.S},e=>{D=e.G},null,null,null,null],execute:function(){var r=document.createElement("style");r.textContent=".table-container{width:100%;max-height:400px;overflow-x:auto}.table-fixed{table-layout:fixed}\n",document.head.appendChild(r);const T={components:{Navbar:_,Loader:S,TopNavbar:L,GreetingUser:D},setup(){N();const e=j();e.getters["getImagePaths/getPath"];const r=o((()=>e.getters["auth/user"])),s=l(""),d=l(""),u=l(""),c=l({}),p=l(null),b=l("");n(r,((e,t)=>{console.log(e),console.log(t)}));const y=function(){var t=a((function*(){c.value={},e.dispatch("loader/setLoading",!0);try{console.log(r.value.id),yield e.dispatch("properties/createProperty",{name:s.value,user_id:r.value.id,attribute_id:b.value}),s.value="";const t=yield U.get("/api/user-properties");d.value=t.data.properties}catch(t){c.value=t}finally{e.dispatch("loader/setLoading",!1),console.log("Setting loader to false")}}));return function(){return t.apply(this,arguments)}}(),f=function(){var r=a((function*(){c.value={},e.dispatch("loader/setLoading",!0);try{yield e.dispatch("properties/updateProperty",t({},p.value));const r=yield U.get("/api/user-properties");d.value=r.data.properties,p.value=null,C.success()}catch(r){c.value=r}finally{e.dispatch("loader/setLoading",!1)}}));return function(){return r.apply(this,arguments)}}();return i(a((function*(){e.dispatch("loader/setLoading",!0);try{yield e.dispatch("auth/fetchUser");const t=yield U.get("/api/user-properties");d.value=t.data.properties;const r=yield U.get("/api/user-attributes");u.value=r.data.attributes,console.log(u.value)}catch(t){console.log(t)}finally{e.dispatch("loader/setLoading",!1)}}))),{truncateText:(e,t)=>e.length<=t?e:e.substring(0,t)+"...",authUser:r,createNewProperty:y,name:s,errors:c,properties:d,editProperty:e=>{console.log(e),p.value=t({},e)},updateProperty:f,editingProperty:p,attributes:u,attribute_id:b,confirmDelete:t=>{E.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then(function(){var r=a((function*(r){if(r.isConfirmed){e.dispatch("properties/deleteProperty",t);const r=yield U.get("/api/user-properties");d.value=r.data.properties}}));return function(e){return r.apply(this,arguments)}}())}}}},A={class:"flex relative"},B={class:"lg:flex-row w-full lg:w-[80%]"},G={class:"w-full dash-content"},M={class:"py-5 lg:px-[25px] px-4"},V={class:"flex flex-col lg:flex-row justify-between lg:items-center"},Y={class:""},I=p("span",{class:"text-gray-600 text-base"},"Liste des propriétés de Deballage ",-1),X=k('<div id="modal" class="absolute invisible w-full h-full top-0 left-0 bg-black bg-opacity-40 flex justify-center items-center"><div class="mb-4 flex gap-x-4 mt-7"></div><div class="bg-white rounded-lg shadow-sm w-[90%] lg:w-[40%] h-fit lg:h-[40%] px-4 py-4 lg:py-6 lg:px-6"><button id="cancelButtons" class="text-black font-bold font-bold" type="button">X</button><div class="flex justify-between"><h1 class="w-full h-full text-[24px] font-medium text-center">Do you really want to cancel this order?</h1></div><div class="mb-4 flex gap-x-4 mt-7"><button id="cancelButton" class="w-full rounded-md py-3 bg-red-600 text-black font-medium" type="button">NO</button><input class="w-full rounded-md py-3 bg-black text-white" type="submit" value="YES"></div></div></div>',1),q={class:"container mx-auto p-6 font-mono"},z={class:"w-full"},F={class:"bg-white p-4 rounded shadow"},J={class:"table-container"},K={class:"w-full"},Q=p("thead",null,[p("tr",{class:"text-md font-semibold tracking-wide text-left text-white bg-red-600 uppercase border-b border-gray-600"},[p("th",{class:"px-4 py-3"},"Nom "),p("th",{class:"px-4 py-3"},"Attribut "),p("th",{class:"px-4 py-3"},"Action ")])],-1),R={class:"px-3 py-4font-semibold text-black"},H={class:"px-3 py-4font-semibold text-black"},W={class:"px-4 py-3 text-sm border"},Z=["onClick"],$=["onClick"],ee={key:1,class:"py-3 border"},te=[p("td",{class:"px-3 py-4font-semibold text-black"}," Exemple",-1),p("td",{class:"px-4 py-3 text-sm border"},[p("a",{id:"",href:"#",class:"inline-block px-1 border-2 rounded-lg font-bold text-white",style:{"background-color":"green","border-color":"green"}},"Modifier "),p("a",{id:"",href:"#",class:"inline-block px-1 border-2 rounded-lg font-bold border-red-600 bg-red-600 text-white"},"delete ")],-1)],re=p("div",{class:"flex justify-end gap-x-3 mt-7 p-fixed mb-6 z-10"},[p("button",{class:"bg-black hover:bg-red-600 text-white font-bold py-2 px-4 rounded",onclick:"previousPage()"},"Previous"),p("button",{class:"bg-black hover:bg-red-600 text-white font-bold py-2 px-4 rounded",onclick:"nextPage()"},"Next")],-1),oe={class:"max-w-screen-lg mx-auto"},ae={class:"bg-white p-4 rounded shadow"},le={key:0,class:"text-lg font-semibold mb-4"},ne={key:1,class:"text-lg font-semibold mb-4"},ie={class:"mb-4"},se=p("label",{class:"block text-gray-600 text-[16px] font-medium mb-2",for:"attributeName"}," Nom",-1),de={key:0,class:"text-red-500 m-1"},ue={class:"mb-4"},ce=p("label",{class:"block text-gray-600 text-[16px] font-medium mb-2",for:"attribute_id"},"Nom de l'attribut",-1),pe=p("option",{value:""},"None",-1),be=["value"],ye={key:0,class:"text-red-500 m-1"},fe=p("div",null,[p("button",{type:"submit",class:"bg-black hover:bg-red-600 text-white font-bold py-2 px-4 rounded"},"Soumettre")],-1),ge={class:"mb-4"},me=p("label",{class:"block text-gray-600 text-[16px] font-medium mb-2",for:"updateAttributeName"},"Nom",-1),xe={key:0,class:"text-red-500 m-1"},ve={class:"mb-4"},he=p("label",{class:"block text-gray-600 text-[16px] font-medium mb-2",for:"attribute_id"},"Nom de l'attribut",-1),we=p("option",{value:""},"None",-1),ke=["value"],Pe={key:0,class:"text-red-500 m-1"},je=p("div",null,[p("button",{type:"submit",class:"bg-black hover:bg-red-600 text-white font-bold py-2 px-4 rounded"},"Modifier")],-1);e("default",O(T,[["render",function(e,t,r,o,a,l){const n=s("Navbar"),i=s("TopNavbar"),k=s("Loader"),j=s("GreetingUser");return d(),u("main",A,[c(n),p("section",B,[p("div",G,[c(i),c(k),p("div",M,[p("div",V,[p("div",Y,[c(j,null,{greeting:b((()=>[P("Bonne journée, "+v(o.authUser.firstName)+" "+v(o.authUser.lastName),1)])),_:1}),I])]),X,p("section",q,[p("div",z,[p("div",F,[p("div",J,[p("table",K,[Q,p("tbody",null,[o.properties.length>0?(d(!0),u(y,{key:0},f(o.properties,(e=>{var t;return d(),u("tr",{class:"py-3 border",key:e.id},[p("td",R,v(e.name),1),p("td",H,v(null===(t=e.attribute)||void 0===t?void 0:t.name),1),p("td",W,[p("a",{href:"#",onClick:t=>o.editProperty(e),class:"inline-block mr-1 px-1 border-2 rounded-lg font-bold text-white",style:{"background-color":"green","border-color":"green"}},"Modifier ",8,Z),p("a",{href:"#",onClick:t=>o.confirmDelete(e.id),class:"inline-block mr-1 px-1 border-2 rounded-lg font-bold border-red-600 bg-red-600 text-white"},"Supprimer ",8,$)])])})),128)):(d(),u("tr",ee,te))])]),re])])])]),p("div",oe,[p("div",ae,[o.editingProperty?(d(),u("h2",ne,"Mettre à jour la propriété")):(d(),u("h2",le,"Créer une nouvelle propriété ")),o.editingProperty?(d(),u("form",{key:3,onSubmit:t[5]||(t[5]=g(((...e)=>o.updateProperty&&o.updateProperty(...e)),["prevent"]))},[p("div",ge,[me,m(p("input",{class:"border-[1px] border-gray-600 appearance-none rounded-[8px] w-full py-3 px-3 text-gray-500 leading-tight focus:outline-none focus:border-[1px] border-gray-600-outline",id:"updateAttributeName",type:"text",placeholder:"Enter the attribute name","onUpdate:modelValue":t[3]||(t[3]=e=>o.editingProperty.name=e)},null,512),[[x,o.editingProperty.name]]),o.errors.name?(d(),u("span",xe,v(o.errors.name[0]),1)):h("",!0)]),p("div",ve,[he,m(p("select",{class:"border-[1px] border-gray-600 appearance-none rounded-[8px] w-full py-3 px-3 text-gray-500 leading-tight focus:outline-none focus:border-[1px] border-gray-600-outline","onUpdate:modelValue":t[4]||(t[4]=e=>o.editingProperty.attribute_id=e),id:"attribute_id"},[we,(d(!0),u(y,null,f(o.attributes,(e=>(d(),u("option",{key:e.id,value:e.id},v(e.name),9,ke)))),128))],512),[[w,o.editingProperty.attribute_id]]),o.errors.attribute_id?(d(),u("span",Pe,v(o.errors.attribute_id[0]),1)):h("",!0)]),je],32)):(d(),u("form",{key:2,onSubmit:t[2]||(t[2]=g(((...e)=>o.createNewProperty&&o.createNewProperty(...e)),["prevent"]))},[p("div",ie,[se,m(p("input",{class:"border-[1px] border-gray-600 appearance-none rounded-[8px] w-full py-3 px-3 text-gray-500 leading-tight focus:outline-none focus:border-[1px] border-gray-600-outline",id:"attributeName",type:"text",placeholder:"Enter the attribute name","onUpdate:modelValue":t[0]||(t[0]=e=>o.name=e)},null,512),[[x,o.name]]),o.errors.name?(d(),u("span",de,v(o.errors.name[0]),1)):h("",!0)]),p("div",ue,[ce,m(p("select",{class:"border-[1px] border-gray-600 appearance-none rounded-[8px] w-full py-3 px-3 text-gray-500 leading-tight focus:outline-none focus:border-[1px] border-gray-600-outline","onUpdate:modelValue":t[1]||(t[1]=e=>o.attribute_id=e),id:"attribute_id"},[pe,(d(!0),u(y,null,f(o.attributes,(e=>(d(),u("option",{key:e.id,value:e.id},v(e.name),9,be)))),128))],512),[[w,o.attribute_id]]),o.errors.attribute_id?(d(),u("span",ye,v(o.errors.attribute_id[0]),1)):h("",!0)]),fe],32))])])])])])])}]]))}}}))}();
